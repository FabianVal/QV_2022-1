(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6996:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return A}});var n=r(7379),t=r(2279),a=r(7294),s=r(29),i=r(7794),c=r.n(i),l=r(1163),d=r(1468);function p(e){var o={};return e.correo?/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e.correo)||(o.correo="El Email no es v\xe1lido"):o.correo="El Email es obligatorio",e.password?e.password.length<8?o.password="El password debe ser de al menos 8 caracteres":e.password.length>26&&(o.password="El password puede contener m\xe1ximo 25 caracteres"):o.password="El password es obligatorio",o}var u=r(2777),m=r(2262),g=r(9669),h=r.n(g),f=new(function(){function e(){(0,u.Z)(this,e)}return(0,m.Z)(e,[{key:"SignUp",value:function(e){return h().post("http://localhost:9000/sign-up",e,{headers:{"Content-Type":"application/json"}})}},{key:"LogIn",value:function(e){return h().post("http://localhost:9000/log-in",e,{headers:{"Content-Type":"application/json"}})}}]),e}()),x=r(5893),w=n.ZP.input.withConfig({displayName:"loginform__Button2",componentId:"sc-1xu6s1i-0"})(["width:150px;color:#172BEF;font-weight:bold;padding:.5em 1em;margin-top:50px;margin-bottom:20px border:1px solid #172BEF;border-radius:.5em;cursor:pointer;transition:.3s all;&:hover{background-color:#172BEF;color:white;}"]),b=n.ZP.div.withConfig({displayName:"loginform__Registro",componentId:"sc-1xu6s1i-1"})(["text-align:center;"]),j=n.ZP.input.withConfig({displayName:"loginform__Input",componentId:"sc-1xu6s1i-2"})(["border:1px solid #fff;width:80%;background-color:#bbbbbb;height:40px;padding:10px;margin-bottom:10px;"]),v=n.ZP.div.withConfig({displayName:"loginform__Error",componentId:"sc-1xu6s1i-3"})(["width:80%;background-color:red;align-text:center;color:white;font-size:0.8rem;text-transform:uppercase;margin-left:10%;margin-bottom:10px;"]),y={correo:"",password:""},E=function(){var e=(0,d.Z)(y,p,(function(){return u.apply(this,arguments)})),o=e.valores,r=e.errores,n=e.handleSubmit,t=e.handleChange,a=o.correo,i=o.password;function u(){return(u=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Entraste a tu cuenta"),e.next=3,f.LogIn(JSON.stringify(o)).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e.data)),l.default.push("/principal"),console.log(e.status)})).catch((function(e){alert("Credenciales incorrectas, intente nuevamente")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,x.jsxs)(b,{children:[(0,x.jsx)("h2",{children:"INICIO DE SESI\xd3N"}),(0,x.jsxs)("form",{onSubmit:n,noValidate:!0,children:[(0,x.jsx)(j,{type:"email",placeholder:"Tu correo",name:"correo",value:a,onChange:t}),r.correo&&(0,x.jsx)(v,{children:r.correo}),(0,x.jsx)(j,{type:"password",placeholder:"Tu contrase\xf1a",name:"password",value:i,onChange:t}),r.password&&(0,x.jsx)(v,{children:r.password}),(0,x.jsx)(w,{type:"submit",value:"\xa1AQUI VAMOS!"})]})]})};function _(e){var o={};return e.nombre?e.nombre.length<8?o.nombre="El nombre debe ser de al menos 8 caracteres":e.nombre.length>46?o.nombre="El nombre puede contener m\xe1ximo 45 caracteres":/^([A-Z]{1}[a-z\xf1\xe1\xe9\xed\xf3\xfa]+[\s]*)+$/.test(e.nombre)||(o.nombre="El nombre solo puede contener letras, la primera letra debe ir en may\xfascula"):o.nombre="El nombre es obligatorio",e.correo?/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e.correo)?e.correo.length>46&&(o.correo="El correo puede contener m\xe1ximo 45 caracteres"):o.correo="El correo no es v\xe1lido":o.correo="El correo es obligatorio",e.password?e.password.length<8?o.password="El password debe ser de al menos 8 caracteres":e.password.length>26&&(o.password="El password puede contener m\xe1ximo 25 caracteres"):o.password="El password es obligatorio",e.password!==e.password2&&(o.password2="Las contrase\xf1as ingresadas no coinciden"),""===e.rol?o.rol="Debes elegir un rol":"Estudiante"!==e.rol&&"Explorador"!==e.rol&&(o.rol="Elige un rol valido"),o}var C=n.ZP.input.withConfig({displayName:"registerform__Button2",componentId:"sc-1wax80n-0"})(["width:150px;color:#172BEF;font-weight:bold;padding:.5em 1em;margin-top:50px;margin-bottom:20px border:1px solid #172BEF;border-radius:.5em;cursor:pointer;transition:.3s all;&:hover{background-color:#172BEF;color:white;}"]),I=n.ZP.div.withConfig({displayName:"registerform__Registro",componentId:"sc-1wax80n-1"})(["text-align:center;"]),O=n.ZP.input.withConfig({displayName:"registerform__Input",componentId:"sc-1wax80n-2"})(["border:1px solid #fff;width:80%;background-color:#bbbbbb;height:40px;padding:10px;margin-bottom:10px;"]),P=n.ZP.div.withConfig({displayName:"registerform__Error",componentId:"sc-1wax80n-3"})(["width:80%;background-color:red;align-text:center;color:white;font-size:0.8rem;text-transform:uppercase;margin-left:10%;margin-bottom:10px;"]),N={nombre:"",rol:"",correo:"",password:"",password2:""},Z=function(){var e=(0,d.Z)(N,_,(function(){return g.apply(this,arguments)})),o=e.valores,r=e.errores,n=e.handleSubmit,t=e.handleChange,a=o.nombre,i=o.rol,p=o.correo,u=o.password,m=o.password2;function g(){return(g=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.SignUp(JSON.stringify(o)).then((function(e){console.log(e),alert("Registrado exitosamente"),l.default.push("/principal"),console.log(e.status)})).catch((function(e){console.log(e),alert("Error al registrar usuario")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,x.jsxs)(I,{children:[(0,x.jsx)("h2",{children:"REGISTRO"}),(0,x.jsxs)("form",{onSubmit:n,noValidate:!0,children:[(0,x.jsx)(O,{name:"rol",value:i,list:"roles",onChange:t,placeholder:"Tu rol"}),(0,x.jsxs)("datalist",{id:"roles",children:[(0,x.jsx)("option",{value:"Estudiante",children:"Estudiante"}),(0,x.jsx)("option",{value:"Explorador",children:"Explorador"})]}),r.rol&&(0,x.jsx)(P,{children:r.rol}),(0,x.jsx)(O,{type:"text",placeholder:"Tu nombre completo",name:"nombre",value:a,onChange:t}),r.nombre&&(0,x.jsx)(P,{children:r.nombre}),(0,x.jsx)(O,{type:"email",placeholder:"Tu correo electronico",name:"correo",value:p,onChange:t}),r.correo&&(0,x.jsx)(P,{children:r.correo}),(0,x.jsx)(O,{type:"password",placeholder:"Tu contrase\xf1a",name:"password",value:u,onChange:t}),r.password&&(0,x.jsx)(P,{children:r.password}),(0,x.jsx)(O,{type:"password",placeholder:"Confirma tu contrase\xf1a",name:"password2",value:m,onChange:t}),r.password2&&(0,x.jsx)(P,{children:r.password2}),(0,x.jsx)("hr",{}),(0,x.jsx)(C,{type:"submit",value:"\xa1AQUI VAMOS!"})]})]})},k=n.ZP.div.withConfig({displayName:"login__PanelOut",componentId:"sc-1ecnwz5-0"})(["border:1px solid #fff;border-radius:20px;padding:20px 20px;margin:20px;width:600px;@media screen and (max-width:800px){width:80%;}"]),S=n.ZP.div.withConfig({displayName:"login__PanelIn",componentId:"sc-1ecnwz5-1"})(["background-color:#fff;padding:10px 10px;"]),B=n.ZP.div.withConfig({displayName:"login__Encabezado",componentId:"sc-1ecnwz5-2"})(["display:flex;justify-content:space-between;"]),z=n.ZP.button.withConfig({displayName:"login__Button",componentId:"sc-1ecnwz5-3"})(["width:30%;color:#172BEF;font-weight:bold;padding:.5em 1em;margin:1em auto;border:2px solid #172BEF;border-radius:.5em;cursor:pointer;transition:.5s all;&:hover{background-color:#172BEF;color:white;}@media screen and (max-width:800px){width:45%;}"]),T=function(){var e=(0,a.useState)(!0),o=e[0],r=e[1];function n(e){r(e)}return(0,x.jsx)(k,{children:(0,x.jsxs)(S,{children:[(0,x.jsxs)(B,{children:[(0,x.jsx)(z,{onClick:function(){return n(!0)},children:"Iniciar Sesi\xf3n"}),(0,x.jsx)(z,{onClick:function(){return n(!1)},children:"Registrarse"})]}),o?(0,x.jsx)(E,{}):(0,x.jsx)(Z,{})]})})},F=n.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-8qxyjj-0"})(["background-image:url('","/imgs/Rectangle 1.png');background-repeat:no-repeat;background-attachment:fixed;background-size:cover;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;"],t.O),D=n.ZP.img.withConfig({displayName:"pages__Imgn",componentId:"sc-8qxyjj-1"})(["margin:30px;"]),R=n.ZP.p.withConfig({displayName:"pages__Intro",componentId:"sc-8qxyjj-2"})(["font-size:1em;font-weight:bold;color:#fff;margin:0px;"]),A=function(){return(0,x.jsxs)(F,{children:[(0,x.jsx)(D,{src:"".concat(t.O,"/imgs/main/QV_Blanco_horizontal.png")}),(0,x.jsx)(R,{children:"Listo para hacer parte de esta nueva aventura?"}),(0,x.jsx)(T,{})]})}},1468:function(e,o,r){"use strict";var n=r(9499),t=r(7294);function a(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?a(Object(r),!0).forEach((function(o){(0,n.Z)(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}o.Z=function(e,o,r){var a=(0,t.useState)(e),i=a[0],c=a[1],l=(0,t.useState)({}),d=l[0],p=l[1],u=(0,t.useState)(!1),m=u[0],g=u[1];(0,t.useEffect)((function(){m&&(0===Object.keys(d).length&&r(),g(!1))}),[d]);return{valores:i,errores:d,handleSubmit:function(e){console.log(i),e.preventDefault();var r=o(i);p(r),g(!0)},handleChange:function(e){c(s(s({},i),{},(0,n.Z)({},e.target.name,e.target.value)))}}}},8581:function(e,o,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6996)}])}},function(e){e.O(0,[984,774,888,179],(function(){return o=8581,e(e.s=o);var o}));var o=e.O();_N_E=o}]);